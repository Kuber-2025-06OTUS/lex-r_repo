# Kubernetes security

### Описание

Выполнены следующие действия:
- создан helm-chart, позволяющий деплоить приложение, созданное в предыдущих заданиях. При этом учтено:
    - основные параметры в манифестах, такие как: имена объектов, имена контейнеров, 
    используемые образы, хосты, порты, количество запускаемых реплик - заданы как
    переменные в шаблонах и конфигурироваться через values.yaml, либо через
    параметры при установке релиза
    - репозиторий и тег образа заданы разными параметрами
    - включаемые/отключаемые пробы
    - в notes добавлены инструкции, по которым можно получить адрес сервиса и обратиться по нему
    - добавлен redis, как зависимость
- создан helmfile.yaml, в котором описано два релиза:
    - kafka из bitnami helm-чарта со следующими параметрами:
        - namespace=prod
        - развернуто 5 брокеров
        - установлена kafka версии 3.5.1
        - для клиентских и межброкерных взаимодействий используется протокол 
        SASL_PLAINTEXT
    - kafka из bitnami helm-чарта со следующими параметрами:
        - namespace=dev
        - развернут 1 брокер
        - установлена последняя доступная версия kafka
        - для клиентских и межброкерных взаимодействий используется протокол 
        PLAINTEXT, отключена авторизация для подключения к кластеру

### Запуск

Установка приложения через helm:
```bash
helm install web-server ./web-server
```

Установка двух релизов kafka через helmfile:
```bash
helmfile apply
```

Для проверки:
```
kubectl get pod -A
```
